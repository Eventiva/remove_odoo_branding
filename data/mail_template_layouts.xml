<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Remove "Powered by Odoo" from main mail notification layout -->
        <template id="mail_notification_layout_no_branding"
            inherit_id="mail.mail_notification_layout"
            name="Remove Odoo Branding from Mail Notification Layout">
            <xpath expr="//div[@t-if='show_footer' and contains(@style, 'color: #555555')]"
                position="replace">
                <!-- Powered by Odoo footer removed -->
            </xpath>
        </template>

        <!-- Remove "Powered by Odoo" from light mail notification layout -->
        <template id="mail_notification_light_no_branding"
            inherit_id="mail.mail_notification_light"
            name="Remove Odoo Branding from Light Mail Notification Layout">
            <xpath expr="//tr[td[contains(., 'Powered by')]]" position="replace">
                <!-- Powered by Odoo footer removed -->
            </xpath>
        </template>

        <!-- Add custom email footer to main mail notification layout -->
        <template id="mail_notification_layout_custom_footer"
            inherit_id="mail.mail_notification_layout"
            name="Add Custom Email Footer to Mail Notification Layout">
            <!-- Add custom footer after company footer -->
            <xpath expr="//div[@t-if='show_footer'][last()]" position="after">
                <div
                    t-if="show_footer and company.email_footer and not is_html_empty(company.email_footer)"
                    style="margin-top:8px; font-size:11px; color: #555555;">
                    <t t-out="company.email_footer" />
                </div>
            </xpath>
        </template>

        <!-- Add custom email footer to light mail notification layout -->
        <template id="mail_notification_light_custom_footer"
            inherit_id="mail.mail_notification_light"
            name="Add Custom Email Footer to Light Mail Notification Layout">
            <!-- Add custom footer in the light layout as well -->
            <xpath
                expr="//td[@align='center'][@style='min-width: 590px; padding: 0 8px 0 8px; font-size:11px;']/div[@style='color: #999999;']"
                position="after">
                <div t-if="company.email_footer and not is_html_empty(company.email_footer)"
                    style="margin-top:8px; color: #555555;">
                    <t t-out="company.email_footer" />
                </div>
            </xpath>
        </template>
    </data>
</odoo>
